# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'untitled.ui'
#
# Created by: PyQt5 UI code generator 5.15.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


import sys, path, os, asyncio, threading 
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
from PyQt5 import QtCore, QtGui, QtWidgets
from guiFunc import *


class Ui_MainWindow(object):
    def setupUi(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(800, 620)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Fixed, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        MainWindow.setFixedSize(MainWindow.size())
        MainWindow.setWindowFlag(QtCore.Qt.WindowMinimizeButtonHint, True)
        MainWindow.setWindowFlag(QtCore.Qt.WindowMaximizeButtonHint, False)

        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.widget = QtWidgets.QWidget(self.centralwidget)
        self.widget.setGeometry(QtCore.QRect(12, 13, 761, 601))
        self.widget.setObjectName("widget")
        self.gridLayout = QtWidgets.QGridLayout(self.widget)
        self.gridLayout.setContentsMargins(0, 0, 0, 0)
        self.gridLayout.setObjectName("gridLayout")
        self.dbTable = QtWidgets.QTableWidget(self.widget)
        self.dbTable.setEditTriggers(QtWidgets.QTableWidget.NoEditTriggers)
        self.dbTable.setEnabled(True)
        self.dbTable.setObjectName("dbTable")
        self.dbTable.setColumnCount(7)
        self.dbTable.setRowCount(0)
        self.dbTable.verticalHeader().setVisible(False)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(0, item)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(1, item)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(2, item)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(3, item)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(4, item)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(5, item)
        item = QtWidgets.QTableWidgetItem()
        self.dbTable.setHorizontalHeaderItem(6, item)
        self.dbTable.horizontalHeader().setStyleSheet("::section{Background-color:rgb(153, 201, 255); border: none; border-right: 1px solid #D8D8D8;}")
        self.gridLayout.addWidget(self.dbTable, 0, 0, 1, 1)
        self.gridSelectLocation = QtWidgets.QGridLayout()
        self.gridSelectLocation.setObjectName("gridSelectLocation")
        self.locationBtn = QtWidgets.QPushButton(self.widget)
        self.locationBtn.setMinimumSize(QtCore.QSize(100, 0))
        self.locationBtn.setObjectName("locationBtn")
        self.gridSelectLocation.addWidget(self.locationBtn, 0, 1, 1, 1)
        self.locationField = QtWidgets.QLineEdit(self.widget)
        self.locationField.setObjectName("locationField")
        self.locationField.setReadOnly(True)
        self.gridSelectLocation.addWidget(self.locationField, 0, 0, 1, 1)
        self.gridLayout.addLayout(self.gridSelectLocation, 1, 0, 1, 1)
        self.gridFind = QtWidgets.QGridLayout()
        self.gridFind.setObjectName("gridFind")
        self.findBtn = QtWidgets.QPushButton(self.widget)
        sizePolicy = QtWidgets.QSizePolicy(QtWidgets.QSizePolicy.Maximum, QtWidgets.QSizePolicy.Fixed)
        sizePolicy.setHorizontalStretch(0)
        sizePolicy.setVerticalStretch(0)
        sizePolicy.setHeightForWidth(self.findBtn.sizePolicy().hasHeightForWidth())
        self.findBtn.setSizePolicy(sizePolicy)
        self.findBtn.setMinimumSize(QtCore.QSize(100, 0))
        self.findBtn.setObjectName("findBtn")
        self.gridFind.addWidget(self.findBtn, 0, 1, 1, 1)
        self.findField = QtWidgets.QLineEdit(self.widget)
        self.findField.setObjectName("findField")
        self.gridFind.addWidget(self.findField, 0, 0, 1, 1)
        self.gridLayout.addLayout(self.gridFind, 2, 0, 1, 1)
        self.gridButtons = QtWidgets.QHBoxLayout()
        self.gridButtons.setObjectName("gridButtons")
        self.getBtn = QtWidgets.QPushButton(self.widget)
        self.getBtn.setObjectName("getBtn")
        self.gridButtons.addWidget(self.getBtn)
        self.deleteBtn = QtWidgets.QPushButton(self.widget)
        self.deleteBtn.setObjectName("deleteBtn")
        self.gridButtons.addWidget(self.deleteBtn)
        self.gridLayout.addLayout(self.gridButtons, 3, 0, 1, 1)
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.gridUpdate = QtWidgets.QGridLayout()
        self.gridUpdate.setContentsMargins(0, -1, 20, -1)
        self.gridUpdate.setObjectName("gridUpdate")
        self.label_idContent = QtWidgets.QLabel(self.widget)
        self.label_idContent.setMaximumSize(QtCore.QSize(16777215, 20))
        self.label_idContent.setObjectName("label_idContent")
        self.gridUpdate.addWidget(self.label_idContent, 0, 1, 1, 1)
        self.updateBtn = QtWidgets.QPushButton(self.widget)
        self.updateBtn.setMaximumSize(QtCore.QSize(16777215, 16777215))
        self.updateBtn.setObjectName("updateBtn")
        self.gridUpdate.addWidget(self.updateBtn, 7, 2, 1, 1)
        self.label_categoryName = QtWidgets.QLabel(self.widget)
        self.label_categoryName.setObjectName("label_categoryName")
        self.gridUpdate.addWidget(self.label_categoryName, 1, 0, 1, 1)
        self.label_answer4 = QtWidgets.QLabel(self.widget)
        self.label_answer4.setObjectName("label_answer4")
        self.gridUpdate.addWidget(self.label_answer4, 6, 0, 1, 1)
        self.label_answer3 = QtWidgets.QLabel(self.widget)
        self.label_answer3.setObjectName("label_answer3")
        self.gridUpdate.addWidget(self.label_answer3, 5, 0, 1, 1)
        self.field_answer2 = QtWidgets.QLineEdit(self.widget)
        self.field_answer2.setObjectName("field_answer2")
        self.gridUpdate.addWidget(self.field_answer2, 4, 1, 1, 2)
        self.field_question = QtWidgets.QTextEdit(self.widget)
        self.field_question.setMaximumSize(QtCore.QSize(16777215, 40))
        self.field_question.setObjectName("field_question")
        self.gridUpdate.addWidget(self.field_question, 2, 1, 1, 2)
        self.field_correct = QtWidgets.QLineEdit(self.widget)
        self.field_correct.setObjectName("field_correct")
        self.gridUpdate.addWidget(self.field_correct, 3, 1, 1, 2)
        self.label_answer2 = QtWidgets.QLabel(self.widget)
        self.label_answer2.setObjectName("label_answer2")
        self.gridUpdate.addWidget(self.label_answer2, 4, 0, 1, 1)
        self.field_answer4 = QtWidgets.QLineEdit(self.widget)
        self.field_answer4.setObjectName("field_answer4")
        self.gridUpdate.addWidget(self.field_answer4, 6, 1, 1, 2)
        self.label_id = QtWidgets.QLabel(self.widget)
        self.label_id.setObjectName("label_id")
        self.gridUpdate.addWidget(self.label_id, 0, 0, 1, 1)
        self.field_answer3 = QtWidgets.QLineEdit(self.widget)
        self.field_answer3.setObjectName("field_answer3")
        self.gridUpdate.addWidget(self.field_answer3, 5, 1, 1, 2)
        self.label_question = QtWidgets.QLabel(self.widget)
        self.label_question.setMaximumSize(QtCore.QSize(16777215, 20))
        self.label_question.setObjectName("label_question")
        self.gridUpdate.addWidget(self.label_question, 2, 0, 1, 1)
        self.label_correct = QtWidgets.QLabel(self.widget)
        self.label_correct.setObjectName("label_correct")
        self.gridUpdate.addWidget(self.label_correct, 3, 0, 1, 1)
        self.label_update = QtWidgets.QLabel(self.widget)
        self.label_update.setObjectName("label_update")
        self.label_update.hide()
        self.label_categoryContent = QtWidgets.QLabel(self.widget)
        self.label_categoryContent.setMaximumSize(QtCore.QSize(16777215, 20))
        self.label_categoryContent.setObjectName("label_categoryContent")
        self.gridUpdate.addWidget(self.label_categoryContent, 1, 1, 1, 1)
        self.gridUpdate.addWidget(self.label_update, 7, 1, 1, 1)
        self.horizontalLayout.addLayout(self.gridUpdate)
        self.gridAdd = QtWidgets.QGridLayout()
        self.gridAdd.setContentsMargins(20, 28, -1, -1)
        self.gridAdd.setObjectName("gridAdd")
        self.label_questionA = QtWidgets.QLabel(self.widget)
        self.label_questionA.setMaximumSize(QtCore.QSize(16777215, 20))
        self.label_questionA.setObjectName("label_questionA")
        self.gridAdd.addWidget(self.label_questionA, 1, 0, 1, 1)
        self.label_answer4A = QtWidgets.QLabel(self.widget)
        self.label_answer4A.setObjectName("label_answer4A")
        self.gridAdd.addWidget(self.label_answer4A, 5, 0, 1, 1)
        self.label_answer3A = QtWidgets.QLabel(self.widget)
        self.label_answer3A.setObjectName("label_answer3A")
        self.gridAdd.addWidget(self.label_answer3A, 4, 0, 1, 1)
        self.field_questionA = QtWidgets.QTextEdit(self.widget)
        self.field_questionA.setMaximumSize(QtCore.QSize(16777215, 40))
        self.field_questionA.setObjectName("field_questionA")
        self.gridAdd.addWidget(self.field_questionA, 1, 1, 1, 2)
        self.field_categoryA = QtWidgets.QLineEdit(self.widget)
        self.field_categoryA.setObjectName("field_categoryA")
        self.gridAdd.addWidget(self.field_categoryA, 0, 1, 1, 2)
        self.addBtn = QtWidgets.QPushButton(self.widget)
        self.addBtn.setObjectName("addBtn")
        self.gridAdd.addWidget(self.addBtn, 6, 2, 1, 1)
        self.field_answer2A = QtWidgets.QLineEdit(self.widget)
        self.field_answer2A.setObjectName("field_answer2A")
        self.gridAdd.addWidget(self.field_answer2A, 3, 1, 1, 2)
        self.label_categoryNameA = QtWidgets.QLabel(self.widget)
        self.label_categoryNameA.setObjectName("label_categoryNameA")
        self.gridAdd.addWidget(self.label_categoryNameA, 0, 0, 1, 1)
        self.field_answer3A = QtWidgets.QLineEdit(self.widget)
        self.field_answer3A.setObjectName("field_answer3A")
        self.gridAdd.addWidget(self.field_answer3A, 4, 1, 1, 2)
        self.label_correctA = QtWidgets.QLabel(self.widget)
        self.label_correctA.setObjectName("label_correctA")
        self.gridAdd.addWidget(self.label_correctA, 2, 0, 1, 1)
        self.field_answer4A = QtWidgets.QLineEdit(self.widget)
        self.field_answer4A.setObjectName("field_answer4A")
        self.gridAdd.addWidget(self.field_answer4A, 5, 1, 1, 2)
        self.field_correctA = QtWidgets.QLineEdit(self.widget)
        self.field_correctA.setObjectName("field_correctA")
        self.gridAdd.addWidget(self.field_correctA, 2, 1, 1, 2)
        self.label_answer2A = QtWidgets.QLabel(self.widget)
        self.label_answer2A.setObjectName("label_answer2A")
        self.gridAdd.addWidget(self.label_answer2A, 3, 0, 1, 1)
        self.label_create = QtWidgets.QLabel(self.widget)
        self.label_create.setObjectName("label_create")
        self.label_create.hide()
        self.gridAdd.addWidget(self.label_create, 6, 1, 1, 1)
        self.horizontalLayout.addLayout(self.gridAdd)
        self.gridLayout.addLayout(self.horizontalLayout, 4, 0, 1, 1)
        MainWindow.setCentralWidget(self.centralwidget)

        self.retranslateUi(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

        #additional variables
        self.dbPath = ""
        self.dbManager = DBManager()

        #methods mapping
        Ui_MainWindow.handleSelectDb = handleSelectDb
        Ui_MainWindow.handleGetBtn = handleGetBtn
        Ui_MainWindow.handleTableSelection = handleTableSelection
        Ui_MainWindow.handleFindBtn = handleFindBtn
        Ui_MainWindow.refreshTableContent = refreshTableContent
        Ui_MainWindow.handleAddBtn = handleAddBtn
        Ui_MainWindow.handleUpdateBtn = handleUpdateBtn
        Ui_MainWindow.clearUpdateFields = clearUpdateFields
        Ui_MainWindow.filterTable = filterTable
        Ui_MainWindow.handleDeleteBtn = handleDeleteBtn

        #Add action to buttons
        self.locationBtn.clicked.connect(self.handleSelectDb)
        self.getBtn.clicked.connect(self.handleGetBtn)
        self.dbTable.clicked.connect(self.handleTableSelection)
        self.findBtn.clicked.connect(self.handleFindBtn)
        self.addBtn.clicked.connect(self.handleAddBtn)
        self.updateBtn.clicked.connect(self.handleUpdateBtn)
        self.deleteBtn.clicked.connect(self.handleDeleteBtn)

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        item = self.dbTable.horizontalHeaderItem(0)
        item.setText(_translate("MainWindow", "Question ID"))
        item = self.dbTable.horizontalHeaderItem(1)
        item.setText(_translate("MainWindow", "Category name"))
        item = self.dbTable.horizontalHeaderItem(2)
        item.setText(_translate("MainWindow", "Question"))
        item = self.dbTable.horizontalHeaderItem(3)
        item.setText(_translate("MainWindow", "Correct Answer"))
        item = self.dbTable.horizontalHeaderItem(4)
        item.setText(_translate("MainWindow", "Answer 2"))
        item = self.dbTable.horizontalHeaderItem(5)
        item.setText(_translate("MainWindow", "Answer 3"))
        item = self.dbTable.horizontalHeaderItem(6)
        item.setText(_translate("MainWindow", "Answer 4"))
        self.locationBtn.setText(_translate("MainWindow", "Select db location"))
        self.locationField.setToolTip(_translate("MainWindow", "<html><head/><body><p>Type db path...</p></body></html>"))
        self.findBtn.setText(_translate("MainWindow", "Find"))
        self.findField.setToolTip(_translate("MainWindow", "<html><head/><body><p>Type question name...</p></body></html>"))
        self.getBtn.setText(_translate("MainWindow", "Get"))
        self.deleteBtn.setText(_translate("MainWindow", "Delete"))
        self.label_idContent.setText(_translate("MainWindow", "ID"))
        self.updateBtn.setText(_translate("MainWindow", "Update"))
        self.label_categoryName.setText(_translate("MainWindow", "Category name:"))
        self.label_answer4.setText(_translate("MainWindow", "Answer 4:"))
        self.label_answer3.setText(_translate("MainWindow", "Answer 3:"))
        self.label_answer2.setText(_translate("MainWindow", "Answer 2:"))
        self.label_id.setText(_translate("MainWindow", "Question ID:"))
        self.label_question.setText(_translate("MainWindow", "Question:"))
        self.label_correct.setText(_translate("MainWindow", "Correct Answer:"))
        self.label_update.setText(_translate("MainWindow", "ALTERED"))
        self.label_categoryContent.setText(_translate("MainWindow", "Category"))
        self.label_questionA.setText(_translate("MainWindow", "Question:"))
        self.label_answer4A.setText(_translate("MainWindow", "Answer 4:"))
        self.label_answer3A.setText(_translate("MainWindow", "Answer 3:"))
        self.addBtn.setText(_translate("MainWindow", "Add"))
        self.label_categoryNameA.setText(_translate("MainWindow", "Category name:"))
        self.label_correctA.setText(_translate("MainWindow", "Correct Answer:"))
        self.label_answer2A.setText(_translate("MainWindow", "Answer 2:"))
        self.label_create.setText(_translate("MainWindow", "CREATED"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
